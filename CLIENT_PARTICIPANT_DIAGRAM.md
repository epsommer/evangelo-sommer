# Client vs Participant - Visual Guide

## ğŸ¯ The Core Distinction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EVENT                                â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      CLIENT        â”‚        â”‚     PARTICIPANTS        â”‚  â”‚
â”‚  â”‚                    â”‚        â”‚                         â”‚  â”‚
â”‚  â”‚  Who it's FOR      â”‚        â”‚  Who is ATTENDING       â”‚  â”‚
â”‚  â”‚  (CRM Contact)     â”‚        â”‚  (Meeting Attendees)    â”‚  â”‚
â”‚  â”‚                    â”‚        â”‚                         â”‚  â”‚
â”‚  â”‚  Example:          â”‚        â”‚  Example:               â”‚  â”‚
â”‚  â”‚  "Acme Corp"       â”‚        â”‚  - john@acme.com        â”‚  â”‚
â”‚  â”‚                    â”‚        â”‚  - jane@acme.com        â”‚  â”‚
â”‚  â”‚                    â”‚        â”‚  - bob@acme.com         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  âš ï¸  These are DIFFERENT concepts!                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Event Type Examples

### Example 1: Client Meeting
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event: "Quarterly Business Review"      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Client: "Acme Corporation"               â”‚
â”‚ (This meeting is FOR Acme)               â”‚
â”‚                                          â”‚
â”‚ Participants:                            â”‚
â”‚  âœ“ john@acmecorp.com (Client CEO)        â”‚
â”‚  âœ“ jane@acmecorp.com (Client CFO)        â”‚
â”‚  âœ“ you@yourcompany.com (You)             â”‚
â”‚                                          â”‚
â”‚ Reschedule Modal: YES âœ…                 â”‚
â”‚ (Participants need notification)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: Solo Task for Client
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event: "Prepare Acme Proposal"           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Client: "Acme Corporation"               â”‚
â”‚ (This task is FOR Acme)                  â”‚
â”‚                                          â”‚
â”‚ Participants: [none]                     â”‚
â”‚ (Just you working alone)                 â”‚
â”‚                                          â”‚
â”‚ Reschedule Modal: NO âŒ                  â”‚
â”‚ (No one to notify)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 3: Personal Event
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event: "Dentist Appointment"             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Client: "Personal"                       â”‚
â”‚ (For yourself)                           â”‚
â”‚                                          â”‚
â”‚ Participants: [none]                     â”‚
â”‚ (Solo appointment)                       â”‚
â”‚                                          â”‚
â”‚ Reschedule Modal: NO âŒ                  â”‚
â”‚ (No one to notify)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 4: Team Meeting (No Client)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event: "Weekly Team Standup"             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Client: [optional or "Internal"]         â”‚
â”‚                                          â”‚
â”‚ Participants:                            â”‚
â”‚  âœ“ alice@team.com                        â”‚
â”‚  âœ“ bob@team.com                          â”‚
â”‚  âœ“ carol@team.com                        â”‚
â”‚                                          â”‚
â”‚ Reschedule Modal: YES âœ…                 â”‚
â”‚ (Team members need notification)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### Before (Wrong)
```
Event Created
    â†“
Client field populated
    â†“
âŒ Client treated as participant
    â†“
âŒ Reschedule modal ALWAYS shows
    â†“
âŒ Client gets notification (wrong!)
```

### After (Correct)
```
Event Created
    â†“
Client field (who it's FOR)
    â†“
Participants array (who's ATTENDING)
    â†“
Check: participants.length > 0?
    â”œâ”€ YES â†’ Show reschedule modal âœ…
    â””â”€ NO  â†’ Direct reschedule (no modal) âœ…
    â†“
Only participants get notifications âœ…
```

---

## ğŸ¨ UI Changes

### Event Creation Modal - Before
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client: [_____________]    â”‚  â† Confusing!
â”‚                            â”‚     Used for BOTH
â”‚                            â”‚     client AND attendees
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Event Creation Modal - After
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client (Who is this for?):                 â”‚
â”‚ [Acme Corporation____________]             â”‚  â† Clear!
â”‚                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                            â”‚
â”‚ Participants (Who is attending?):          â”‚
â”‚ [john@acmecorp.com_________] [Ã—]           â”‚  â† Separate!
â”‚ [jane@acmecorp.com_________] [Ã—]           â”‚
â”‚ [+ Add Participant]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Schema

### Event Table
```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Event Table                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id               VARCHAR                         â”‚
â”‚ title            VARCHAR                         â”‚
â”‚ startDateTime    VARCHAR                         â”‚
â”‚ endDateTime      VARCHAR                         â”‚
â”‚                                                  â”‚
â”‚ -- Client (who it's FOR)                        â”‚
â”‚ clientId         VARCHAR  â† CRM relationship    â”‚
â”‚ clientName       VARCHAR  â† Display name        â”‚
â”‚                                                  â”‚
â”‚ -- Participants (who's ATTENDING)               â”‚
â”‚ participants     JSONB    â† ['email1', 'email2']â”‚
â”‚                  â†‘                               â”‚
â”‚                  â””â”€ NEW FIELD!                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ Reschedule Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User Drags Event to New Time        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Check Participants  â”‚
        â”‚ Array               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚
         â–¼                 â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Empty   â”‚      â”‚ Has      â”‚
   â”‚ Array   â”‚      â”‚ Items    â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚
        â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Direct      â”‚  â”‚ Show             â”‚
   â”‚ Reschedule  â”‚  â”‚ Confirmation     â”‚
   â”‚ âœ…          â”‚  â”‚ Modal            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ âœ…               â”‚
                    â”‚                  â”‚
                    â”‚ Allow user to:   â”‚
                    â”‚ - Add reason     â”‚
                    â”‚ - Toggle notify  â”‚
                    â”‚ - Confirm/Cancel â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± User Experience

### Scenario: Solo Task
```
1. User creates task: "Prepare report for Acme"
2. Sets client: "Acme Corp"
3. Leaves participants empty
4. Drags task to tomorrow
5. âœ… Task moves immediately (no modal!)
6. âœ… No unnecessary clicks
```

### Scenario: Client Meeting
```
1. User creates event: "Acme Q1 Review"
2. Sets client: "Acme Corp"
3. Adds participants:
   - john@acmecorp.com
   - jane@acmecorp.com
4. Drags meeting to tomorrow
5. âš ï¸  Modal appears: "Confirm reschedule?"
6. âœ… User can notify participants
7. âœ… Optional: Add reason for change
```

---

## ğŸ“ Key Takeaways

1. **Client** = Business relationship (stored in CRM)
2. **Participants** = Meeting attendees (array of emails/names)
3. **Modal shows** = Only when participants exist
4. **Notifications sent** = Only to participants, not clients
5. **Backward compatible** = Existing events work fine

---

**Questions?** See `CLIENT_PARTICIPANT_FIX_SUMMARY.md` for details.
